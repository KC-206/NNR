/* ============================================================
   LAURIE 2: DECAF RISING — Stylesheet
   Retro terminal aesthetic, warm desert palette
============================================================ */

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0a0804;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  font-family: 'Courier New', Courier, monospace;
  overflow: hidden;
  color: #f0d080;
}

/* ── Screen Container ─────────────────────────────────── */
#screen-container {
  position: relative;
  width: 800px;
  height: 600px;
  overflow: hidden;
  border: 3px solid #8B4513;
  box-shadow: 0 0 40px rgba(200,100,0,0.5), inset 0 0 20px rgba(0,0,0,0.8);
}

/* All screens hidden by default — active class shows them */
.screen {
  position: absolute;
  top: 0; left: 0;
  width: 800px;
  height: 600px;
  display: none;
}

.screen.active                { display: block; }
#screen-transition.active     { display: flex !important; align-items: center; justify-content: center; }
#screen-title.active          { display: flex !important; align-items: center; justify-content: center; flex-direction: column; }
#screen-gameover.active       { display: block; }
#screen-win.active            { display: block; }

canvas {
  position: absolute;
  top: 0; left: 0;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* ── Retro Button ─────────────────────────────────────── */
.retro-btn {
  background: #3a1a00;
  color: #f0d080;
  border: 2px solid #c87020;
  font-family: 'Courier New', monospace;
  font-size: 18px;
  padding: 12px 28px;
  cursor: pointer;
  letter-spacing: 3px;
  text-transform: uppercase;
  transition: all 0.15s;
  text-shadow: 0 0 8px #f0a000;
  box-shadow: 0 0 15px rgba(200,112,0,0.4);
}

.retro-btn:hover {
  background: #c87020;
  color: #fff8e0;
  box-shadow: 0 0 25px rgba(255,160,0,0.8);
  transform: scale(1.05);
}

/* ── Intro Screen ─────────────────────────────────────── */
#screen-intro { background: #080604; }

#canvas-intro { opacity: 0.35; }

#intro-text-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
  overflow: hidden;
  z-index: 2;
}

#intro-scroll-content {
  flex: 1;
  overflow: hidden;
  width: 100%;
  max-width: 680px;
  mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
  animation: scrollUp 28s linear forwards;
}

@keyframes scrollUp {
  0%   { transform: translateY(35%); }
  100% { transform: translateY(-100%); }
}

.intro-logo {
  text-align: center;
  font-size: 42px;
  font-weight: bold;
  color: #f0a000;
  text-shadow: 0 0 20px #ff8000, 0 0 40px #ff4000;
  letter-spacing: 4px;
  margin-bottom: 30px;
  line-height: 1.3;
}

.intro-logo .subtitle {
  font-size: 22px;
  color: #d06000;
  letter-spacing: 8px;
}

.intro-story {
  text-align: center;
  line-height: 2;
  color: #d0b060;
}

.intro-story p         { margin-bottom: 16px; font-size: 15px; }
.intro-story strong    { color: #ff6040; }
.hero-name  { font-size: 20px !important; color: #f0d080 !important; letter-spacing: 3px; font-weight: bold; }
.gojira-text { font-size: 24px !important; color: #40ff80 !important; text-shadow: 0 0 15px #00ff60; letter-spacing: 5px; }

#btn-start {
  margin-top: 10px;
  animation: pulse 1.5s ease-in-out infinite;
  position: relative;
  z-index: 3;
}

/* ── Title Screen ─────────────────────────────────────── */
#screen-title {
  background: radial-gradient(ellipse at 50% 60%, #1a0a02 0%, #050200 100%);
}

#canvas-title { opacity: 0.5; z-index: 1; }

#title-content {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
}

/* ── Transition Screen ────────────────────────────────── */
#screen-transition {
  background: radial-gradient(ellipse at center, #1a0a02 0%, #050200 100%);
}

/* Level-specific images + gradient together */
.transition-bg-1 {
  background-image:
    radial-gradient(
      ellipse at center,
      rgba(26, 8, 8, 0.8) 0%,   /* more/less opaque */
      rgba(5, 2, 3, 0.95) 100%
    ),
    url("l1.png");              /* image at the back */
  background-size: cover;
  background-position: center;
}

.transition-bg-2 {
  background-image:
    url("l2.png"),
    radial-gradient(ellipse at center, #1a0808 0%, #050203 100%);
}

.transition-bg-3 {
  background-image:
    url("l3.png"),
    radial-gradient(ellipse at center, #1a0808 0%, #050203 100%);
}

#transition-content {
  text-align: center;
  padding: 20px 28px;
  border: 2px solid #f0d080;
  background: rgba(0, 0, 0, 0.5);  /* nearly solid black */
  max-width: 420px;
  margin-top: 82px;
  color: #fce9b0;
  z-index: 5;
}


#transition-level-num, 
#transition-level-name {
	display:none;
}

#transition-blurb {
  font-size: 15px;
  color: #b09040;
  line-height: 1.8;
  margin-bottom: 30px;
}

/* ── Game Over Screen ─────────────────────────────────── */
#screen-gameover { background: #000; }

#canvas-gameover {
  filter: blur(2px) brightness(0.4);
}

#gameover-overlay {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  background-image: repeating-linear-gradient(
    0deg,
    rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px,
    transparent 1px, transparent 4px
  );
}

#gameover-title {
  font-size: 72px;
  color: #cc2020;
  text-shadow: 0 0 30px #ff0000, 0 0 60px #880000;
  letter-spacing: 8px;
  animation: flicker 4s infinite;
}

@keyframes flicker {
  0%, 90%, 92%, 94%, 100% { opacity: 1; }
  91%  { opacity: 0.8; }
  93%  { opacity: 0.6; }
}

#gameover-pricilla-text {
  font-size: 20px;
  color: #ff8080;
  letter-spacing: 3px;
}

#gameover-quote {
  font-size: 14px;
  color: #806060;
  font-style: italic;
  max-width: 500px;
  text-align: center;
}

#gameover-stats { font-size: 13px; color: #604040; margin: 10px 0; }

/* ── Win Screen ───────────────────────────────────────── */
#screen-win { background: #050804; }

#canvas-confetti { pointer-events: none; }

#win-overlay {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 18px;
  pointer-events: none;
}

#win-title {
  font-size: 60px;
  color: #f0d080;
  text-shadow: 0 0 20px #f0a000, 0 0 50px #c06000;
  letter-spacing: 4px;
  text-align: center;
  line-height: 1.2;
}

.win-again {
  font-size: 28px;
  color: #c08040;
  display: block;
  letter-spacing: 6px;
}

#win-coffee {
  font-size: 36px;
  animation: spinCups 2s linear infinite;
}

@keyframes spinCups {
  0%   { letter-spacing: 6px; }
  50%  { letter-spacing: 14px; }
  100% { letter-spacing: 6px; }
}

#win-quote {
  font-size: 15px;
  color: #a09050;
  font-style: italic;
  text-align: center;
  max-width: 500px;
  line-height: 1.8;
  pointer-events: none;
}

#win-stats     { font-size: 13px; color: #807040; pointer-events: none; }
#btn-play-again { pointer-events: all; }

/* ── Game Screen ──────────────────────────────────────── */
#screen-game { background: #000; }

#canvas-game { z-index: 1; }
#canvas-hud  { z-index: 2; pointer-events: none; }

#flash-overlay {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 3;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.05s;
}

#damage-numbers {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 4;
  pointer-events: none;
}

.dmg-num {
  position: absolute;
  font-family: 'Courier New', monospace;
  font-size: 18px;
  font-weight: bold;
  color: #ff4040;
  text-shadow: 1px 1px 0 #000;
  pointer-events: none;
  animation: floatUp 0.8s ease-out forwards;
}

.dmg-num.heal { color: #40ff80; }
.dmg-num.crit { font-size: 26px; color: #ffa040; }

@keyframes floatUp {
  0%   { transform: translateY(0);    opacity: 1; }
  100% { transform: translateY(-60px); opacity: 0; }
}

#quip-container {
  position: absolute;
  bottom: 50px;
  left: 0; right: 0;
  z-index: 5;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

.quip-bubble {
  font-family: 'Courier New', monospace;
  font-size: 13px;
  padding: 8px 16px;
  border-radius: 4px;
  max-width: 600px;
  text-align: center;
  opacity: 0;
  transition: opacity 0.3s;
  background: rgba(0,0,0,0.75);
  border: 1px solid;
}

.quip-bubble.visible { opacity: 1; }
.player-quip { color: #f0d080; border-color: #c87020; }
.enemy-quip  { color: #ff8080; border-color: #cc2020; }

#controls-hint {
  position: absolute;
  bottom: 4px;
  left: 0; right: 0;
  text-align: center;
  font-size: 10px;
  color: #604020;
  letter-spacing: 1px;
  z-index: 5;
  pointer-events: none;
}

/* ── Animations ───────────────────────────────────────── */
@keyframes pulse {
  0%, 100% { box-shadow: 0 0 15px rgba(200,112,0,0.4); }
  50%       { box-shadow: 0 0 35px rgba(255,160,0,0.9); }
}

@keyframes titlePulse {
  0%, 100% { text-shadow: 0 0 20px #ff8000, 0 0 40px #ff4000; }
  50%       { text-shadow: 0 0 40px #ffb000, 0 0 80px #ff8000, 0 0 120px #ff4000; }
}
